{% extends 'common/base.html' %}

{% block title %}
영화선택페이지
{% endblock title %}


{% block head %}
{% load static %}
<link rel="stylesheet" href="{% static 'movie/result/result.css' %}">
<script src="{% static 'jquery.min.js' %}"></script>
<script src="{% static 'common/session.js' %}"></script> 
<link rel="stylesheet" href="{% static 'movie/result/graph.css' %}">
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="{% static 'movie/result/graphs.js' %}"></script> 
{% endblock head %}
  
{% block body %}
<!-- 메뉴 바(직접 작성)-->
<div style="background-color:#2d3142; display: flex; justify-content: space-between">
  <img src="{% static 'My project-1.png' %}" alt="일일영화 로고"
   style="height: 100px; width: auto;">
	
  <div style="color: white; text-align:right; top: 5px; right: 10px;">
  {% if user.is_authenticated %}
    {{ user.username }}님, 환영합니다.<br>
    <a href="{% url 'user:profile' %}" class="result_menubar_btn">내정보</a>
    <a href="{% url 'user:logout' %}" class="result_menubar_btn">로그아웃</a>
  {% endif %}
  </div>
</div>

<div class="button_"></div>
<div class="button" id="button-5">
  <div id="translate"></div>
  <a href="#">감독 -<br>
    {{ request.session.selected_director }}
  </a>
</div>
<div class="button" id="button-5">
  <div id="translate"></div>
  <a href="#">장르 -<br>
    {{ request.session.selected_genre }}
  </a>
</div>
<div class="button" id="button-5">
  <div id="translate"></div>
  <a href="#">배우 -<br>
    {{ request.session.selected_actor1 }}
  </a>
</div>
<div class="button" id="button-5">
  <div id="translate"></div>
  <a href="#">배우 -<br>
    {{ request.session.selected_actor2 }}
  </a>
</div>
<div class="button" id="button-5">
  <div id="translate"></div>
  <a href="#">배우 -<br>
    {{ request.session.selected_actor3 }}
  </a>
</div>
<br>
<div class="button" id="button-5">
  <div id="translate"></div>
  <a href="#">국가 -<br>
    {{ request.session.selected_nations }}
  </a>
</div>
<div class="button" id="button-5">
  <div id="translate"></div>
  <a href="#">개봉 분기 -<br>
    {{ request.session.selected_opendt }}
  </a>
</div>
<div class="button" id="button-5">
  <div id="translate"></div>
  <a href="#">관람 등급 -<br>
    {{ request.session.selected_audit }}
  </a>
</div>
<!-- 결과에 대한 설명을 적어놓는 란-->
<div class="result_repr">
  위와 같이 선택했을때 흥행도는 다음과 같습니다.<br><br>
  장르, 감독, 배우들이 출연한 영화들의 매출액, 관객수의 평균을 구하고 만든국가, 개봉일, 관람등급을 통해 조절한 결과 아래와 같은 그래프를 통해 흥행도는 오를/내릴것으로 예상됩니다.
</div>

<!-- 총매출액 추이를 보여주기 위한 란-->
<div>
  <button id="btn_salesAcc">보이기/감추기</button>
  <span style="color: white;">총 매출액 변동 추이</span>
</div>
  <!-- <img src="{% static 'SalesAccTestImage.png' %}" id="SalesToggle" style="display:none"> -->
  <div class="SalesToggle" id="curve_chart" style="width: 900px; height: 500px"></div>
<!-- 총관람객수 추이를 보여주기 위한 란-->
<div>
  <button id="btn_audiAcc">보이기/감추기</button>
  <span style="color: white;">총 관람객수 변동 추이</span>
</div>
  <!-- <img src="{% static 'AudiAccTestImage.png' %}" id="AudiToggle" style="display:none"> -->
  <div class="AudiToggle" id="chart_div" style="width: 60%; height: 600px;"></div>

{% comment %}
String ls_getdata = (String)lobj_getdata
나중에 str 아닌 session정보 str로 변환하는것 밑에서 빼옴.  
<%
Object lobj_getdata = session.getAttribute("selected_director");
%>
{% endcomment %}



{% endblock body %}
{% comment %}
<script src="{% static 'common/session.js' %}"></script> 
<!-- storage에서 key로 value 빼오는 코드 이걸 jvs에 쓰는건지 html 템플릿에 쓰는건지 모르니 일단 써둠. -->
<script>
sessionStorage.getItem("selected_director")
sessionStorage.getItem("selected_genre")
sessionStorage.getItem("selected_actor1")
sessionStorage.getItem("selected_actor2")
sessionStorage.getItem("selected_actor3")
sessionStorage.getItem("selected_nations")
sessionStorage.getItem("selected_opendt")
sessionStorage.getItem("selected_audit")
</script>
{% endcomment %}
  
